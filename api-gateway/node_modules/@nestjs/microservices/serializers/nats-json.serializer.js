"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.NatsJSONSerializer = void 0;
const load_package_util_1 = require("@nestjs/common/utils/load-package.util");
let natsPackage = {};
class NatsJSONSerializer {
    constructor() {
        natsPackage = load_package_util_1.loadPackage('nats', NatsJSONSerializer.name, () => require('nats'));
        this.jsonCodec = natsPackage.JSONCodec();
    }
    serialize(value) {
        const json = this.jsonCodec.encode(value);
        return json;
    }
}
exports.NatsJSONSerializer = NatsJSONSerializer;
